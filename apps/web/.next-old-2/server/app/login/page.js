(()=>{var e={};e.id=626,e.ids=[626],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7473:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c}),s(4437),s(1400),s(3443);var r=s(9324),n=s(562),a=s(2561),i=s.n(a),o=s(2691),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4437)),"/Users/marianfabian/Projects/sentinel/apps/web/src/app/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1400)),"/Users/marianfabian/Projects/sentinel/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,3443,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/marianfabian/Projects/sentinel/apps/web/src/app/login/page.tsx"],d="/login/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7247:(e,t,s)=>{Promise.resolve().then(s.bind(s,3738))},6500:(e,t,s)=>{Promise.resolve().then(s.bind(s,501))},8437:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,5510,23)),Promise.resolve().then(s.t.bind(s,9137,23)),Promise.resolve().then(s.t.bind(s,2141,23)),Promise.resolve().then(s.t.bind(s,9188,23)),Promise.resolve().then(s.t.bind(s,2587,23)),Promise.resolve().then(s.t.bind(s,5716,23))},3738:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(3316),n=s(4381),a=s(4364),i=s(7455);function o(){let[e,t]=(0,n.useState)(""),[s,o]=(0,n.useState)(""),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(null),[m,h]=(0,n.useState)(!1),{login:p,register:g}=(0,i.a)(),y=async t=>{t.preventDefault(),d(null),h(!0);try{l?await g(e,s):await p(e,s)}catch(e){d(e instanceof Error?e.message:"Authentication failed")}finally{h(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx(a.default,{href:"/",className:"flex justify-center",children:r.jsx("h1",{className:"text-3xl font-bold text-primary-600",children:"Sentinel"})}),r.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:l?"Create your account":"Sign in to your account"})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,r.jsxs)("form",{className:"space-y-6",onSubmit:y,children:[u&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),r.jsx("div",{className:"mt-1",children:r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),r.jsx("div",{className:"mt-1",children:r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:l?"new-password":"current-password",required:!0,minLength:6,value:s,onChange:e=>o(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500"})})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Please wait...":l?"Create Account":"Sign In"})})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-300"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-white text-gray-500",children:l?"Already have an account?":"New to Sentinel?"})})]}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{type:"button",onClick:()=>{c(!l),d(null)},className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:l?"Sign in instead":"Create an account"})})]})]})})]})}},501:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>a});var r=s(3316),n=s(7455);function a({children:e}){return r.jsx(n.H,{children:e})}},7455:(e,t,s)=>{"use strict";s.d(t,{H:()=>u,a:()=>d});var r=s(3316),n=s(4381),a=s(8015),i=s(7883);let o=(0,n.createContext)(void 0),l="sentinel_token",c="sentinel_user";function u({children:e}){let[t,s]=(0,n.useState)(null),[u,d]=(0,n.useState)(!0),m=(0,a.useRouter)();(0,a.usePathname)();let h=async(e,t)=>{let{accessToken:r,user:n}=await i.Z.login(e,t);localStorage.setItem(l,r),localStorage.setItem(c,JSON.stringify(n)),i.Z.setToken(r),s(n),m.push("/dashboard")},p=async(e,t)=>{await i.Z.register(e,t),await h(e,t)};return r.jsx(o.Provider,{value:{user:t,isLoading:u,login:h,register:p,logout:()=>{localStorage.removeItem(l),localStorage.removeItem(c),i.Z.setToken(null),s(null),m.push("/login")}},children:e})}function d(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7883:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});class r{constructor(e){this.token=null,this.baseUrl=e}setToken(e){this.token=e}async request(e,t={}){let{token:s,...r}=t,n=s||this.token,a={"Content-Type":"application/json",...t.headers};n&&(a.Authorization=`Bearer ${n}`);let i=await fetch(`${this.baseUrl}${e}`,{...r,headers:a});if(!i.ok)throw Error((await i.json().catch(()=>({}))).message||`API Error: ${i.status}`);return i.json()}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e,t){return this.request("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t})})}async getWorkspaces(){return this.request("/workspaces")}async getWorkspace(e){return this.request(`/workspaces/${e}`)}async createWorkspace(e){return this.request("/workspaces",{method:"POST",body:JSON.stringify(e)})}async getSources(e){return this.request(`/sources?workspaceId=${e}`)}async createSource(e){return this.request("/sources",{method:"POST",body:JSON.stringify(e)})}async getRules(e){return this.request(`/rules?workspaceId=${e}`)}async getRule(e){return this.request(`/rules/${e}`)}async createRule(e){return this.request("/rules",{method:"POST",body:JSON.stringify(e)})}async updateRule(e,t){return this.request(`/rules/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async testRule(e){return this.request(`/rules/${e}/test`,{method:"POST"})}async pauseRule(e){return this.request(`/rules/${e}/pause`,{method:"POST"})}async resumeRule(e){return this.request(`/rules/${e}/resume`,{method:"POST"})}async resetRuleHealth(e){return this.request(`/rules/${e}/reset-health`,{method:"POST"})}async getAlerts(e){return this.request(`/alerts?workspaceId=${e}`)}async getNotificationChannels(e){return this.request(`/notification-channels?workspaceId=${e}`)}async getNotificationChannel(e){return this.request(`/notification-channels/${e}`)}async createNotificationChannel(e){return this.request("/notification-channels",{method:"POST",body:JSON.stringify(e)})}async updateNotificationChannel(e,t){return this.request(`/notification-channels/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteNotificationChannel(e){return this.request(`/notification-channels/${e}`,{method:"DELETE"})}async testNotificationChannel(e){return this.request(`/notification-channels/${e}/test`,{method:"POST"})}async getHealthSummary(e){return this.request(`/rules/workspace/${e}/health-summary`)}async getLowHealthRules(e,t=50){return this.request(`/rules/workspace/${e}/low-health?threshold=${t}`)}}let n=new r("https://sentinel.taxinearme.sk/api")},1400:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>o});var r=s(6857),n=s(1945),a=s.n(n);s(5652);let i=(0,s(6883).createProxy)(String.raw`/Users/marianfabian/Projects/sentinel/apps/web/src/app/providers.tsx#Providers`),o={title:"Sentinel - Change Intelligence Platform",description:"Monitor website changes, track prices, and get alerts"};function l({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:a().className,children:r.jsx(i,{children:r.jsx("div",{className:"min-h-screen bg-gray-50",children:e})})})})}},4437:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6883).createProxy)(String.raw`/Users/marianfabian/Projects/sentinel/apps/web/src/app/login/page.tsx#default`)},5652:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[465,364],()=>s(7473));module.exports=r})();